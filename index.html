<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Memorization Game</title>
  	</head><body>
    <audio id="correct-sound" src="https://christinabkk.github.io/VocabGame/correct-156911.mp3" preload="auto"></audio>
	<audio id="wrong-sound" src="https://christinabkk.github.io/VocabGame/wrong-47985.mp3" preload="auto"></audio>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a6c 0%, #2c3e50 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            position: relative;
        }
        
        .header {
            background: linear-gradient(90deg, #3498db 0%, #2c3e50 100%);
            color: white;
            padding: 1.8rem;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
		.footer {
   			text-align: center;
    		padding: 10px;
    		color: #ffffff;
    		font-size: 0.9rem;
    		background: linear-gradient(90deg, #3498db 0%, #2c3e50 100%);
		}
		
        .unit-selector {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .selector-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            align-items: center;
        }
        
        .selector-container label {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1rem;
        }
        
        select {
            padding: 10px 15px;
            border: 2px solid #3498db;
            border-radius: 8px;
            background-color: white;
            font-size: 1rem;
            color: #2c3e50;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }
        
        select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
        }
        
        .game-container {
            padding: 2.5rem;
            min-height: 400px;
        }
        
        .progress-container {
            margin-bottom: 2rem;
            background-color: #f1f2f6;
            border-radius: 10px;
            padding: 10px;
        }
        
        .progress-bar {
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            margin-top: 8px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db 0%, #2ecc71 100%);
            width: 0%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid #e0e0e0;
        }
        
        .hint {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, #f8f9fa 0%, #eef2f7 100%);
            padding: 12px 15px;
            border-radius: 8px;
            font-weight: 600;
            color: #2c3e50;
            border-left: 4px solid #3498db;
        }
        
        .description {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            color: #2c3e50;
            background: linear-gradient(to right, #f8f9fa, #ffffff);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #2ecc71;
        }
        
        .letter-boxes-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .letter-boxes-row {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .letter-box {
            min-width: 50px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
            background: #f1f2f6;
            border-radius: 8px;
            color: #2c3e50;
        }
        
        .letter-box.first-letter {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }
        
        .letter-box.blank {
            background: #f8f9fa;
            border: 2px dashed #3498db;
            color: transparent;
            cursor: pointer;
        }
        
        .letter-box.blank:hover {
            background: #e3f2fd;
        }
        .letter-box.user-input {
            background: white;
            border: 2px solid #3498db;
            color: #2c3e50;
        }
        
        .letter-box.fixed {
            background: #e0e7ff;
            color: #4f46e5;
            border: 2px solid #a5b4fc;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 1.5rem;
            justify-content: center;
        }
        
        .btn {
            padding: 14px 28px;
            background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .btn:hover {
            background: linear-gradient(90deg, #2980b9 0%, #3498db 100%);
        }
        
        .message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-weight: 600;
            text-align: center;
            opacity: 0;
            transition: all 0.4s ease;
        }
        
        .success {
            background: linear-gradient(90deg, rgba(46, 204, 113, 0.15), rgba(39, 174, 96, 0.15));
            color: #27ae60;
            border: 2px solid #2ecc71;
            opacity: 1;
        }
        
        .error {
            background: linear-gradient(90deg, rgba(231, 76, 60, 0.15), rgba(192, 57, 43, 0.15));
            color: #c0392b;
            border: 2px solid #e74c3c;
            opacity: 1;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .score-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .score-box {
            background: linear-gradient(135deg, #f8f9fa, #eef2f7);
            padding: 12px 25px;
            border-radius: 8px;
            min-width: 150px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }
        
        .score-value {
            font-size: 1.8rem;
            color: #3498db;
            margin-top: 5px;
        }
        
        .completed {
            text-align: center;
            padding: 40px 20px;
            display: none;
        }
        
        .completed h2 {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .completed p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #7f8c8d;
        }
        
        .restart-btn {
            background: linear-gradient(90deg, #2ecc71 0%, #27ae60 100%);
            padding: 15px 40px;
            font-size: 1.2rem;
        }
        
        .word-group {
            display: flex;
            flex-wrap: nowrap;
            gap: 10px;
        }
        
        @keyframes confetti-fall {
            to {
                transform: translateY(100vh);
                opacity: 0;
            }
        }
      	@keyframes shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
    100% { transform: translateX(0); }
}

.shake {
    animation: shake 0.3s ease;
}
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .game-container {
                padding: 1.5rem;
            }
            
            .letter-box {
                min-width: 40px;
                height: 50px;
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .letter-box {
                min-width: 30px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .letter-box.blank::after {
                font-size: 1.8rem;
            }
            
            .score-container {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>


    <div class="container">
        <div class="header">
            <h1><i class="fas fa-brain"></i> Vocabulary Memorization Game</h1>
            <p>Test your knowledge of historical terms and concepts</p>
        </div>
        
        <div class="unit-selector">
            <div class="selector-container">
                <label for="unit-select"><i class="fas fa-book-open"></i> Select Unit:</label>
                <select id="unit-select">
                    <option value="all">All Units</option>
                    <option value="1.2">Unit 1.2</option>
                    <option value="1.3">Unit 1.3</option>
                </select>
            </div>
        </div>
      
        <audio id="correct-sound" src="correct.mp3" preload="auto"></audio>
  		<audio id="wrong-sound" src="wrong.mp3" preload="auto"></audio>
      
        <div class="game-container">
            <div class="progress-container">
                <div class="progress-text">
                    <span>Progress</span>
                    <span id="progress-text">2/7</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 14.2857%;"></div>
                </div>
            </div>
            
            <div class="card">
                <div class="hint">
                    <span id="date-hint">Date: 1494 CE</span>
                    <span>Letters: <strong id="letter-count">19</strong></span>
                </div>
                
                <div class="description" id="term-description">This treaty divided newly discovered lands between Spain and Portugal along a meridian called the line of demarcation. The two empires worked with the Catholic Church. This agreement aimed to resolve territorial disputes and significantly influenced colonization patterns in the New World.</div>
                
                <div class="letter-boxes-container" id="letter-boxes-container"><div class="letter-boxes-row"><div class="word-group"><div class="letter-box first-letter" data-index="0">T</div><div class="letter-box blank" data-index="1" style="box-shadow: rgb(52, 152, 219) 0px 0px 0px 3px;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="2" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="3" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="4" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="5" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box fixed" data-index="6"> </div></div><div class="word-group"><div class="letter-box blank" data-index="7" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="8" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box fixed" data-index="9"> </div></div><div class="word-group"><div class="letter-box blank" data-index="10" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="11" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="12" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="13" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="14" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="15" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="16" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="17" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="18" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="19" style="box-shadow: none;"><span class="underscore">_</span></div><div class="letter-box blank" data-index="20" style="box-shadow: none;"><span class="underscore">_</span></div></div></div></div>
                
                <div class="input-group">
                    <button class="btn" id="submit-btn">Submit Answer</button>
                    <button class="btn" id="clear-btn" style="background: linear-gradient(90deg, #e74c3c, #c0392b);">Clear</button>
                </div>
                
                <div class="message" id="message">Correct! Well done!</div>
                
                <div class="animation-container" id="animation-container"><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 39.7601%; background-color: rgb(82, 119, 224); animation: 1.5s linear 0.470206s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 68.6158%; background-color: rgb(224, 82, 206); animation: 1.5s linear 0.347292s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 79.6393%; background-color: rgb(224, 213, 82); animation: 1.5s linear 0.114078s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 10.2115%; background-color: rgb(224, 88, 82); animation: 1.5s linear 0.133526s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 31.2875%; background-color: rgb(82, 224, 172); animation: 1.5s linear 0.319919s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 53.1309%; background-color: rgb(82, 101, 224); animation: 1.5s linear 0.140301s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 75.0245%; background-color: rgb(189, 82, 224); animation: 1.5s linear 0.126545s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 57.8838%; background-color: rgb(175, 224, 82); animation: 1.5s linear 0.494886s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 71.0128%; background-color: rgb(82, 224, 224); animation: 1.5s linear 0.323611s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 70.7512%; background-color: rgb(224, 82, 110); animation: 1.5s linear 0.30747s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 30.5252%; background-color: rgb(224, 82, 141); animation: 1.5s linear 0.495385s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 83.1507%; background-color: rgb(82, 224, 214); animation: 1.5s linear 0.16861s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 30.328%; background-color: rgb(224, 148, 82); animation: 1.5s linear 0.3379s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 95.2348%; background-color: rgb(82, 160, 224); animation: 1.5s linear 0.0992478s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 97.7254%; background-color: rgb(82, 129, 224); animation: 1.5s linear 0.473261s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 60.2807%; background-color: rgb(224, 169, 82); animation: 1.5s linear 0.15522s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 52.9058%; background-color: rgb(82, 104, 224); animation: 1.5s linear 0.495998s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 3.6397%; background-color: rgb(95, 82, 224); animation: 1.5s linear 0.196308s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 27.2751%; background-color: rgb(224, 170, 82); animation: 1.5s linear 0.37359s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 0.939687%; background-color: rgb(82, 191, 224); animation: 1.5s linear 0.186111s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 50.8153%; background-color: rgb(82, 220, 224); animation: 1.5s linear 0.30796s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 89.6869%; background-color: rgb(165, 82, 224); animation: 1.5s linear 0.095353s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 66.7127%; background-color: rgb(82, 224, 151); animation: 1.5s linear 0.429097s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 2.25187%; background-color: rgb(224, 194, 82); animation: 1.5s linear 0.146786s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 83.6759%; background-color: rgb(82, 224, 85); animation: 1.5s linear 0.391626s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 28.5014%; background-color: rgb(202, 82, 224); animation: 1.5s linear 0.20952s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 33.5239%; background-color: rgb(82, 224, 157); animation: 1.5s linear 0.00443621s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 41.6587%; background-color: rgb(88, 224, 82); animation: 1.5s linear 0.479564s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 78.5945%; background-color: rgb(82, 224, 191); animation: 1.5s linear 0.0855651s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 85.3078%; background-color: rgb(82, 142, 224); animation: 1.5s linear 0.203581s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 38.5693%; background-color: rgb(146, 224, 82); animation: 1.5s linear 0.114826s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 95.9008%; background-color: rgb(199, 224, 82); animation: 1.5s linear 0.460063s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 33.1013%; background-color: rgb(165, 224, 82); animation: 1.5s linear 0.478667s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 42.0109%; background-color: rgb(82, 173, 224); animation: 1.5s linear 0.00986879s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 41.5698%; background-color: rgb(82, 149, 224); animation: 1.5s linear 0.38175s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 34.1354%; background-color: rgb(82, 224, 173); animation: 1.5s linear 0.0761748s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 25.1908%; background-color: rgb(194, 224, 82); animation: 1.5s linear 0.45214s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 60.3218%; background-color: rgb(224, 82, 163); animation: 1.5s linear 0.177739s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 3.29233%; background-color: rgb(147, 82, 224); animation: 1.5s linear 0.22057s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 25.9329%; background-color: rgb(125, 82, 224); animation: 1.5s linear 0.255531s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 88.6546%; background-color: rgb(220, 224, 82); animation: 1.5s linear 0.164943s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 53.4124%; background-color: rgb(224, 206, 82); animation: 1.5s linear 0.489134s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 32.7048%; background-color: rgb(82, 224, 210); animation: 1.5s linear 0.259562s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 98.5939%; background-color: rgb(224, 222, 82); animation: 1.5s linear 0.228281s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 57.6729%; background-color: rgb(224, 85, 82); animation: 1.5s linear 0.312233s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 34.1747%; background-color: rgb(224, 136, 82); animation: 1.5s linear 0.327338s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 19.0054%; background-color: rgb(135, 224, 82); animation: 1.5s linear 0.107s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 48.7145%; background-color: rgb(134, 82, 224); animation: 1.5s linear 0.325472s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 30.3364%; background-color: rgb(224, 183, 82); animation: 1.5s linear 0.485148s 1 normal forwards running confetti-fall;"></div><div class="confetti" style="position: fixed; top: 0px; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; z-index: 9999; left: 31.0767%; background-color: rgb(82, 94, 224); animation: 1.5s linear 0.0860488s 1 normal forwards running confetti-fall;"></div></div>
            </div>
            
            <div class="score-container">
                <div class="score-box">
                    <div>Correct Answers</div>
                    <div class="score-value" id="correct-count">0</div>
                </div>
                <div class="score-box">
                    <div>Attempts</div>
                    <div class="score-value" id="attempts-count">0</div>
                </div>
            </div>
            
            <div class="completed" id="completed-screen" style="display: none;">
                <h2><i class="fas fa-trophy"></i> Congratulations!</h2>
                <p>You've successfully completed all the terms in this unit.</p>
                <p>Your final score: <span id="final-score">0</span>/<span id="total-terms">0</span></p>
                <button class="btn restart-btn" id="restart-btn">Play Again</button>
            </div>
        </div>
        
        <div class="footer">
            <p>DSAS Secondary Â© 2025 | Educational Tool for Students</p>
        </div>
    </div>

    <script>
        // Vocabulary data
        const vocabularyData = [
            {
                unit: "1.2",
                date: "~10,000 ya",
                term: "Bering Strait Land Bridge",
                description: "Settlement of the Americas likely began as humans crossed from Asia into North America during the last ice age when sea levels were lower exposed a land bridge between the two continents."
            },
            {
                unit: "1.2",
                date: "~9000 ya",
                term: "Maize",
                description: "Corn, a new-world crop first domesticated in modern day Mexico which played an important role in Mayan, Aztec, and many North American indigenous societies."
            },
            {
                unit: "1.2",
                date: "~1660-1830s CE",
                term: "Iroquois Confederation",
                description: "A political union between various Native American peoples of the northeastern United States also known as Haudenosauanee. Members included Seneca, Cayuga, Mohawk, Onondaga, Oneida, and later the Tuscaroras."
            },
            {
                unit: "1.3",
                date: "1492 CE",
                term: "Christopher Columbus",
                description: "Genoese sponsored by Spain in 1492, aimed to find a westward route to Asia but inadvertently discovered the Americas. His voyages marked the beginning of sustained European contact with the New World, impacting both regions significantly."
            },
            {
                unit: "1.3",
                date: "1517-today",
                term: "Protestant Reformation",
                description: "Beginning in the early 16th century, this movement aimed to reform the Catholic Church and led to the emergence of various denominations. This movement affected religious beliefs, political power, and migration patterns."
            },
            {
                unit: "1.3",
                date: "1648 CE",
                term: "Nation-States",
                description: "By the Early Modern period, a new concept of statehood emerged in Europe, marked by centralized governments and defined territories beginning with the Treaty of Westphalia. This drove the Age of Exploration as European powers sought new resources and territories."
            },
            {
                unit: "1.3",
                date: "1494 CE",
                term: "Treaty of Tordesillas",
                description: "This treaty divided newly discovered lands between Spain and Portugal along a meridian called the line of demarcation. The two empires worked with the Catholic Church. This agreement aimed to resolve territorial disputes and significantly influenced colonization patterns in the New World."
            }
        ];

        // Game state variables
        let currentTerms = [];
        let currentTermIndex = 0;
        let correctAnswers = 0;
        let totalAttempts = 0;
        let gameActive = true;
        let currentBlankIndex = 1;
        let userInput = [];
        let editableIndices = [];

        // DOM Elements
        const unitSelect = document.getElementById('unit-select');
        const dateHint = document.getElementById('date-hint');
        const letterCount = document.getElementById('letter-count');
        const termDescription = document.getElementById('term-description');
        const submitBtn = document.getElementById('submit-btn');
        const clearBtn = document.getElementById('clear-btn');
        const messageEl = document.getElementById('message');
        const progressText = document.getElementById('progress-text');
        const progressFill = document.getElementById('progress-fill');
        const correctCount = document.getElementById('correct-count');
        const attemptsCount = document.getElementById('attempts-count');
        const completedScreen = document.getElementById('completed-screen');
        const restartBtn = document.getElementById('restart-btn');
        const animationContainer = document.getElementById('animation-container');
        const letterBoxesContainer = document.getElementById('letter-boxes-container');
        const finalScore = document.getElementById('final-score');
        const totalTerms = document.getElementById('total-terms');
      	const correctSound = document.getElementById('correct-sound');
		const wrongSound = document.getElementById('wrong-sound');


        // Initialize the game
        function initGame() {
            const selectedUnit = unitSelect.value;
            
            currentTerms = selectedUnit === 'all' 
                ? [...vocabularyData].sort(() => Math.random() - 0.5)
                : vocabularyData.filter(term => term.unit === selectedUnit).sort(() => Math.random() - 0.5);
            
            currentTermIndex = 0;
            correctAnswers = 0;
            totalAttempts = 0;
            gameActive = true;
            userInput = [];
            editableIndices = [];
            
            updateScore();
            showTerm(currentTermIndex);
            completedScreen.style.display = 'none';
            messageEl.className = 'message';
            
            document.addEventListener('keydown', handleKeyDown);
        }

        // Create letter boxes for the current term
        function createLetterBoxes(term) {
            letterBoxesContainer.innerHTML = '';
            currentBlankIndex = 1;
            userInput = Array(term.length).fill('');
            editableIndices = [];
            
            const letters = term.split('');
            letterCount.textContent = term.replace(/[^a-zA-Z]/g, '').length;
            
            const rows = [];
            let currentRow = [];
            let currentWord = [];
            
            for (let i = 0; i < letters.length; i++) {
                const isLetter = /[a-zA-Z]/.test(letters[i]);
                
                if (i === 0) {
                    currentWord.push({
                        index: i,
                        char: letters[i],
                        type: 'first-letter',
                        isLetter: true
                    });
                    userInput[i] = letters[i];
                } else if (!isLetter) {
                    currentWord.push({
                        index: i,
                        char: letters[i],
                        type: 'fixed',
                        isLetter: false
                    });
                    userInput[i] = letters[i];
                    
                    if (letters[i] === ' ') {
                        currentRow.push(currentWord);
                        currentWord = [];
                    }
                } else {
                    currentWord.push({
                        index: i,
                        char: letters[i],
                        type: 'blank',
                        isLetter: true
                    });
                    userInput[i] = '';
                    editableIndices.push(i);
                }
            }
            
            if (currentWord.length > 0) {
                currentRow.push(currentWord);
            }
            
            rows.push(currentRow);
            
            rows.forEach(row => {
                const rowElement = document.createElement('div');
                rowElement.className = 'letter-boxes-row';
                
                row.forEach(word => {
                    const wordGroup = document.createElement('div');
                    wordGroup.className = 'word-group';

                    word.forEach(letter => {
                        const letterBox = document.createElement('div');
                        letterBox.className = `letter-box ${letter.type}`;
                        letterBox.dataset.index = letter.index;

                        if (letter.type === 'first-letter') {
                            letterBox.textContent = letter.char;
                        } else if (letter.type === 'fixed') {
                            letterBox.textContent = letter.char;
                        } else if (letter.type === 'blank') {
                            letterBox.innerHTML = '<span class="underscore">_</span>';
                            letterBox.addEventListener('click', () => {
                                currentBlankIndex = letter.index;
                                updateActiveBlank();
                            });
                        }

                        wordGroup.appendChild(letterBox);
                    });

                    rowElement.appendChild(wordGroup);
                });
                
                letterBoxesContainer.appendChild(rowElement);
            });
            
            if (editableIndices.length > 0) {
                currentBlankIndex = editableIndices[0];
                updateActiveBlank();
            }
        }

        function fillBlank(char) {
            const box = document.querySelector(`[data-index="${currentBlankIndex}"]`);
            if (!box) return;

            box.textContent = char;
            box.classList.remove('blank');
            box.classList.add('user-input');
            userInput[currentBlankIndex] = char;

            const currentIdx = editableIndices.indexOf(currentBlankIndex);
            if (currentIdx < editableIndices.length - 1) {
                currentBlankIndex = editableIndices[currentIdx + 1];
                updateActiveBlank();
            }
        }

        function handleBackspace() {
            if (userInput[currentBlankIndex] === '') {
                const currentIdx = editableIndices.indexOf(currentBlankIndex);
                if (currentIdx > 0) {
                    currentBlankIndex = editableIndices[currentIdx - 1];
                    updateActiveBlank();
                    return;
                }
            }
            
            clearBlank();
        }

        function clearBlank() {
            const blank = document.querySelector(`[data-index="${currentBlankIndex}"]`);
            if (blank && blank.classList.contains('user-input')) {
                blank.textContent = '';
                blank.classList.remove('user-input');
                blank.classList.add('blank');
                blank.innerHTML = '<span class="underscore">_</span>';
                userInput[currentBlankIndex] = '';
            }
        }
function clearAllBlanks() {
    // Only reset the editable blanks tracked in editableIndices
    for (let i = 0; i < editableIndices.length; i++) {
        const index = editableIndices[i];
        const blank = document.querySelector(`[data-index="${index}"]`);
        if (!blank) continue;

        // Clear only the inline styles that checkAnswer sets (preserve any other layout styles)
        blank.style.backgroundColor = '';
        blank.style.borderColor = '';
        blank.style.boxShadow = '';

        // Remove transient classes and ensure it's the "blank" state again
        blank.classList.remove('user-input', 'shake');
        blank.classList.add('blank');

        // Put back the underscore placeholder and reset model state
        blank.innerHTML = '<span class="underscore">_</span>';
        userInput[index] = '';
    }

    // Reset active blank highlight
    if (editableIndices.length > 0) {
        currentBlankIndex = editableIndices[0];
        updateActiveBlank();
    }

    // Optional: restore neutral message state
    messageEl.className = 'message';
    messageEl.textContent = '';
}




        function updateActiveBlank() {
            const blanks = document.querySelectorAll('.blank, .user-input');
            blanks.forEach(blank => {
                blank.style.boxShadow = 'none';
            });
            
            const currentBlank = document.querySelector(`[data-index="${currentBlankIndex}"]`);
            if (currentBlank) {
                currentBlank.style.boxShadow = '0 0 0 3px #3498db';
            }
        }

        function showTerm(index) {
            if (index >= currentTerms.length) {
                endGame();
                return;
            }
            
            const term = currentTerms[index];
            dateHint.textContent = `Date: ${term.date}`;
            termDescription.textContent = term.description;
            
            createLetterBoxes(term.term);
            
            progressText.textContent = `${index + 1}/${currentTerms.length}`;
            progressFill.style.width = `${(index / currentTerms.length) * 100}%`;
            
            messageEl.className = 'message';
        }

        function handleKeyDown(e) {
    if (!gameActive) return;

    // Prevent spacebar from triggering anything
    if (e.key === ' ') {
        e.preventDefault();
        return;
    }

    if (e.key.length === 1 && e.key.match(/[a-z]/i)) {
        fillBlank(e.key);
    } else if (e.key === 'Backspace') {
        handleBackspace();
    } else if (e.key === 'Enter') {
        e.preventDefault();
        checkAnswer();
    }
}

function checkAnswer() {
    const term = currentTerms[currentTermIndex].term;
    let allCorrect = true;

    const boxes = document.querySelectorAll('.letter-box');

    boxes.forEach(box => {
        const index = parseInt(box.dataset.index);
        if (isNaN(index)) return;

        // --- IMPORTANT: don't change fixed/non-editable boxes' visuals ---
        if (box.classList.contains('fixed') || box.classList.contains('first-letter')) {
            // still skip them from styling, they remain as provided in your markup
            return;
        }

        const expected = term[index];
        const actual = userInput[index];

        // Only style editable boxes
        box.style.transition = 'background-color 0.3s ease, border-color 0.3s ease';

        if (actual && actual.toLowerCase() === expected.toLowerCase()) {
            box.style.backgroundColor = '#d1fae5';
            box.style.borderColor = '#34d399';
        } else {
            box.style.backgroundColor = '#fee2e2';
            box.style.borderColor = '#f87171';
            allCorrect = false;
            box.classList.add('shake');
            box.addEventListener('animationend', () => {
                box.classList.remove('shake');
            }, { once: true });
        }
    });

    if (allCorrect) {
        correctSound.currentTime = 0;
        correctSound.play();
        messageEl.textContent = 'Correct! Well done!';
        messageEl.className = 'message success';

        animationContainer.innerHTML = '';
        for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.position = 'fixed';
            confetti.style.top = '0';
            confetti.style.width = '8px';
            confetti.style.height = '8px';
            confetti.style.borderRadius = '50%';
            confetti.style.pointerEvents = 'none';
            confetti.style.zIndex = '9999';
            confetti.style.left = `${Math.random() * 100}%`;
            confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`;
            confetti.style.animation = `confetti-fall 1.5s linear forwards`;
            confetti.style.animationDelay = `${Math.random() * 0.5}s`;
            animationContainer.appendChild(confetti);
        }

        setTimeout(() => {
            currentTermIndex++;
            if (currentTermIndex < currentTerms.length) {
                showTerm(currentTermIndex);
            } else {
                endGame();
            }
        }, 1000);
    } else {
        wrongSound.currentTime = 0;
        wrongSound.play();
        messageEl.textContent = 'Not quite. Try again!';
        messageEl.className = 'message error';
    }
}

        function updateScore() {
            correctCount.textContent = correctAnswers;
            attemptsCount.textContent = totalAttempts;
        }

        function endGame() {
            gameActive = false;
            progressFill.style.width = '100%';
            completedScreen.style.display = 'block';
            finalScore.textContent = correctAnswers;
            totalTerms.textContent = currentTerms.length;
            document.removeEventListener('keydown', handleKeyDown);
        }

        // Event Listeners
        unitSelect.addEventListener('change', initGame);
        submitBtn.addEventListener('click', checkAnswer);
        restartBtn.addEventListener('click', initGame);
        clearBtn.addEventListener('click', clearAllBlanks);

        // Initialize the game on page load
        window.addEventListener('DOMContentLoaded', initGame);
    </script>


</body></html>
